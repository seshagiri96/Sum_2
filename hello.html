<!DOCTYPE HTML>
<html>
    <head>
        <title>Rough AJAX Test</title>
        <script>

            function removeElement(element_id) {
                element = document.getElementById(element_id)
                element && element.parentNode && element.parentNode.removeChild(element);
            }
            function loadXMLDoc()
            {
                var req = new XMLHttpRequest()
                
            
                req.open('POST', '/ajax')
                req.setRequestHeader("Content-type", "application/x-www-form-urlencoded")
                var un = document.getElementById('scname').value
                var sec = document.getElementById('secret').value
                var postVars = 'username='+un+'&secret='+sec
                req.send(postVars)


        	   req.onreadystatechange = function()
                {
                    if (req.readyState == 4 && req.status == 200)
                    {                  
                        var response = JSON.parse(req.responseText)
                        document.getElementById('myDiv').innerHTML = 'Hashed Value ::'+response.username;
        		        removeElement('scname')
                        removeElement('secret')

                    }
                }
                
                return false
            }
        </script>
    </head>
    <body>
        <form action="" method="POST">
            <input type="text" name="scname" id="scname">
            <input type="hidden" name="secret" id="secret" value="shhh">
            <input type="button" name = "button" value="Submit" onclick="return loadXMLDoc()">
        </form>
        <input type="text" id="txt" 
            $('#txt').keydown(function (e){
                if(e.keyCode == 13){
                    alert('you pressed enter ^_^');
                }
            })
        />
        <div id="myDiv"></div>
    </body>
</html>